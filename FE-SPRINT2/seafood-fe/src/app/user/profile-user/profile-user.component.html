<div class="container">
  <div class="main-body">
    <!-- /Breadcrumb -->

    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img src="{{user.avatar}}" alt="Admin" class="rounded-circle"
                   width="150">
              <div class="mt-3">
                <h4>{{user.name}}</h4>
                <!--                <p class="text-secondary mb-1">Full Stack Developer</p>-->
                <!--                <p class="text-muted font-size-sm">Bay Area, San Francisco, CA</p>-->
                <!--                <button class="btn btn-primary">Follow</button>-->
                <!--                <button class="btn btn-outline-primary">Message</button>-->
              </div>
            </div>
          </div>
        </div>
        <div class="card mt-3">
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap btn"
                (click)="getProfile()">
              <h6 class="mb-0 ">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-person-lines-fill" viewBox="0 0 16 16">
                  <path
                    d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z"/>
                </svg>
                Thông tin cá nhân
              </h6>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap btn"
                (click)="purchaseHistory()">
              <h6 class="mb-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                     class="bi bi-hourglass-split" viewBox="0 0 16 16">
                  <path
                    d="M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z"/>
                </svg>
                Lịch sử mua hàng
              </h6>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-center flex-wrap btn"
                (click)="changePassword()">
              <h6 class="mb-0">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key"
                     viewBox="0 0 16 16">
                  <path
                    d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8zm4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5z"/>
                  <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
                </svg>
                Đổi mật khẩu
              </h6>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-8">
        <div class="card mb-3" *ngIf="profile">
          <br>
          <h2 class="text-center">Thông tin cá nhân</h2>
          <div class="card-body ml-5">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Họ tên</h6>
              </div>
              <div class="col-sm-9 text-dark">
                {{user.name}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-sm-9 text-dark">
                {{user.email}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Phone</h6>
              </div>
              <div class="col-sm-9 text-dark">
                {{user.phoneNumber}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Ngày sinh</h6>
              </div>
              <div class="col-sm-9 text-dark">
                {{user.dateOfBirth| date:"dd/MM/yyyy" }}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Giới tính</h6>
              </div>
              <div class="col-sm-9 text-dark">
                {{user.gender ? 'Nam':'Nữ'}}
              </div>
            </div>
            <hr>
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Địa chỉ</h6>
              </div>
              <div class="col-sm-9 text-dark">
                {{user.address}}
              </div>
            </div>

            <hr>
            <div class="row">
              <div class="col-sm-12">
                <button type="button" class="btn btn-primary">
                  Chỉnh sửa
                </button>
              </div>
            </div>
          </div>
        </div>

        <div class="row gutters-sm" *ngIf="purchase">
          <div class="col-sm-12 mb-3">
            <div class="card h-100">
              <div class="card-body">
                <h2 class="text-center">Lịch sử mua hàng</h2>
                <hr>
                <table class="table">
                  <thead>
                  <tr>
                    <th scope="col">STT</th>
                    <th scope="col">Mã đơn hàng</th>
                    <th scope="col">Ngày mua</th>
                    <th scope="col">Địa chỉ giao hàng</th>
                    <th scope="col">Đơn giá</th>
                    <th scope="col">Chi tiết</th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr *ngFor="let order of orderList, index as i">
                    <th scope="row">{{i+1}}</th>
                    <td>{{order.code}}</td>
                    <td>{{order.orderDate| date:"dd/MM/yyyy"}}</td>
                    <td>{{order.shippingAddress}}</td>
                    <td>{{order.totalPrice | currency:'VND':''}}</td>
                    <td>
                      <button type="button" style="border-radius: 15px" class="btn btn-info" data-toggle="modal" data-target="#exampleModalLong" (click)="detailPurchase(order.code)">
                        Chi tiết
                      </button>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>



<!-- Modal detail-->
<div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document" style="width: 1000px" >
    <div class="modal-content">
      <h3 class="modal-title text-center mt-3" id="exampleModalLongTitle" >Chi tiết đơn hàng</h3>
      <div class="modal-body">
        <table class="table">
          <thead>
          <tr>
            <th scope="col">STT</th>
            <th scope="col">Hình ảnh</th>
            <th scope="col">Sản phẩm</th>
            <th scope="col">Kích thước</th>
            <th scope="col">Số lượng</th>
            <th scope="col">Đơn giá</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let purchase of detailList, index as i">
            <th scope="row">{{i+1}}</th>
            <td><img src="{{purchase.image}}" style="width: 50px; height: 50px" alt=""></td>
            <td>{{purchase.name}}</td>
            <td>{{purchase.size}} Kg</td>
            <td>{{purchase.quantity}}</td>
            <td>{{purchase.totalPrice | currency:'VND':''}}</td>
          </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal" style="border-radius: 15px">Đóng</button>
      </div>
    </div>
  </div>
</div>
